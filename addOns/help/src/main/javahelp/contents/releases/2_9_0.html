<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<TITLE>
  Release 2.9.0
</TITLE>
</HEAD>
<BODY BGCOLOR="#ffffff">
<H1>Release 2.9.0</H1>

This is a bug fix and enhancement release, which requires a minimum of Java 8. 
Note that a minimum of Java 11 is recommended, especially for high DPI displays.
<br><br>
These release notes do not include all of the changes included in add-ons updated since 2.8.0.
<br><br>
Some of the more significant enhancements include:

<H2>Session Management Scripts</H2>
It's now possible to define scripts which handle non standard or more complex session management.<br>
Session Management scripts have full access to the authentication request and response and can define custom
mandatory and optional parameters.
An example session management script for OWASP Juice shop is provided.

<H2>Custom Global/Script Variables</H2>
It's now possible for scripts to share custom global/script variables, which can be of any type not
just strings, for example, lists, maps, GUI models.<br/>
In JavaScript they are accessed/set as follows:
<blockquote><pre><code>
var ScriptVars = Java.type("org.zaproxy.zap.extension.script.ScriptVars")

ScriptVars.setScriptCustomVar(this.context, "var.name", {x: 1, y: 3})
print(ScriptVars.getScriptCustomVar(this.context, "var.name").y) // Prints 3

ScriptVars.setGlobalCustomVar("var.name", ["A", "B", "C", "D"])
print(ScriptVars.getGlobalCustomVar("var.name")[2]) // Prints C
</code></pre></blockquote>

<H2>Filters Classes Removal</H2>
The classes/code for Filters functionality, deprecated since ZAP 2.4.0, has been removed. Add-ons that still use that will stop working.

<H2>Changes in Bundled Libraries</H2>
The following libraries were removed:
<ul>
  <li>JDOM</li>
  <li>Diff Utils</li>
</ul>
no longer in use by core, add-ons should bundle the library, if needed.

The following libraries were updated:
<ul>
  <li>Bouncy Castle, 1.61 → 1.64</li>
  <li>Commons BeanUtils, 1.9.3 → 1.9.4</li>
  <li>Commons Codec, 1.12 → 1.13</li>
  <li>Commons CSV, 1.6 → 1.7</li>
  <li>Commons Text, 1.6 → 1.8</li>
  <li>HSQLDB, 2.4.1 → 2.5.0</li>
  <li>Nashorn Sandbox, 0.1.25 → 0.1.26</li>
  <li>RSyntaxTextArea, 3.0.3 → 3.0.4</li>
  <li>SQLite JDBC, 3.27.2.1 → 3.28.0</li>
</ul>


<H2>Enhancements</H2>


<H2>Bug fixes</H2>


<H2>ZAP API New Endpoints:</H2>

<H3>VIEW script / globalCustomVar</H3>
Gets the value (string representation) of a global custom variable. Returns an API error (DOES_NOT_EXIST) if no value was previously set.

<H3>VIEW script / globalCustomVars</H3>
Gets all the global custom variables (key/value pairs, the value is the string representation).

<H3>VIEW script / scriptCustomVar</H3>
Gets the value (string representation) of a custom variable. Returns an API error (DOES_NOT_EXIST) if no script with the given name exists or if no value was previously set.

<H3>VIEW script / scriptCustomVars</H3>
Gets all the custom variables (key/value pairs, the value is the string representation) of a script. Returns an API error (DOES_NOT_EXIST) if no script with the given name exists.

<H3>ACTION alert / addAlert</H3>
Add an alert associated with the given message ID, with the provided details. (The ID of the created alert is returned.)

<H3> ACTION alert / updateAlert</H3>
Update the alert with the given ID, with the provided details.

<H3>ACTION script / clearGlobalCustomVar</H3>
Clears a global custom variable.

<H3>ACTION script / clearScriptCustomVar</H3>
Clears a script custom variable.

<H2>See also</H2>
<table>
<tr><td>&nbsp;&nbsp;&nbsp;&nbsp;</td><td><a href="../intro.html">Introduction</a></td><td>the introduction to ZAP</td></tr>
<tr><td>&nbsp;&nbsp;&nbsp;&nbsp;</td><td><a href="releases.html">Releases</a></td><td>the full set of releases</td></tr>
<tr><td>&nbsp;&nbsp;&nbsp;&nbsp;</td><td><a href="../credits.html">Credits</a></td><td>the people and groups who have made this release possible</td></tr>
</table>
</BODY>
</HTML>