<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<TITLE>
Options API screen
</TITLE>
</HEAD>
<BODY>
<H1>Options API screen</H1>
<p>
This screen allows you to configure the <a href="../../../start/features/api.html">API</a> options:

<H3>Enabled</H3>

If enabled then the API is available to all machines that are able to access ZAP's proxies that expose the API.<br/>

<H3>Web UI Enabled</H3>

If enabled then the API Web UI is available to all machines that are able to access ZAP's proxies that expose the API. 
To access the API Web UI point your browser to the host and port that ZAP is listening on.<br/>

<H3>Secure Only</H3>

If enabled then the API will only be available via HTTPS. Otherwise it will be available via both HTTP and HTTPS.<br/>

<H3><a name="filexferenabled">File Transfer Enabled</a></H3>

If enabled then files can be transfered to and from ZAP via the API.
This option is only available if the API key is <i>not</i> disabled.
For more details see <a href="../../../start/features/api.html#filexfer">File Transfer</a>.
<p>
You can also enable this option via the command line using the parameter: <code>-config api.filexfer=true</code>

<H3><a name="xferdir">Transfer Directory</a></H3>

The directory used to transfer files to and from ZAP via the API.
This option is only available if the API key is <i>not</i> disabled.
For more details see <a href="../../../start/features/api.html#filexfer">File Transfer</a>.
<p>
You can also set the Transfer Directory via the command line using: <code>-config api.xferdir=/full/path/to/dir</code>

<H3>API Key</H3>

A key that must be specified on all API 'actions' and some 'other' operations.<br/>
The API key is used to prevent malicious sites from accessing the ZAP API.<br/>
It is strongly recommended that you set a key unless you are using ZAP in a completely isolated environment.<br/>

<H3>Addresses permitted to use the API</H3>

By default only the machine ZAP is running on is able to access the ZAP API.<br/>
You can allow other machines access to the API by adding suitable regex patterns.<br/>
You should only add IP addresses that you trust.<br/>
Note that the ZAP API also now checks the host header, so that must also be one of the permitted addresses.

<H3>Disable the API Key</H3>

Selecting this option disables the API key.<br/>
This is not recommended unless you are using ZAP in a completely isolated environment, as it allows malicious sites to access the ZAP API.

<H3>Do not require an API key for safe operations</H3>

If enabled then the API key is not required for Views or Other operations that are considered 'safe', in other words operations that do not make any changes to ZAP. 
Such operations do however give access to ZAP data such as alert, messages, and file system paths.  
They can also be used by web applications to detect the presence of ZAP.

<H3>Report permission errors via API</H3>

If enabled then ZAP will report permission errors via the API, which can be used by web applications to detect the presence of ZAP.
This is not a serious problem in a safe environment but if you are using ZAP against potentially malicious sites then you should not enable it.

<H3>Report error details via API</H3>

If this option is selected then more error details are returned via the API.<br/>
This is not recommended except for debugging purposes as these error messages can leak information to malicious sites.<br/>
Note that the full error details are always written to the ZAP log file. 

<H3>Autofill API key in the API UI</H3>

If this option is selected then the API key is automatically included in the API UI.<br/>
This is not recommended unless you are using ZAP in a completely isolated environment, as it allows malicious sites to access the ZAP API Key.<br/>

<H3>Enable JSONP</H3>

Selecting this option enables the JSONP format.<br/>
This can be useful for some applications, but it is generally not recommended as it increases the ZAP attack surface area, ie the features that a malicious site can abuse.<br/>
If JSONP is enabled then all API operations using JSONP (including views) will require the API key to prevent malicious sites from accessing sensitive information maintained by ZAP, such as session keys. 

<H2>See also</H2>
<table>
<tr><td>&nbsp;&nbsp;&nbsp;&nbsp;</td><td>
<a href="../../overview.html">UI Overview</a></td><td>for an overview of the user interface</td></tr>
<tr><td>&nbsp;&nbsp;&nbsp;&nbsp;</td><td>
<a href="options.html">Options dialogs</a></td><td>for details of the other Options dialog screens</td></tr>
</table>

</BODY>
</HTML>
