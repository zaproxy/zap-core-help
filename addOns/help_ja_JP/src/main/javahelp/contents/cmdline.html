<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>
コマンドライン
</title>
</head>
<body>
<h1>コマンドライン</h1>

コマンドラインからZAPを実行するには、使用しているオペレーティングシステムに応じてZAP起動スクリプトを実行します。<br/>
<strong>Windows:</strong><br/>
<pre>C:\Program Files (x86)\ZAP\Zed Attack Proxy\zap.bat</pre>
<strong>注:</strong> コマンドラインオプションは、実行ファイル (<code>zap.exe</code>) では使用できません。必ずbatファイルを使用してください。<br/><br/>
<strong>macOS:</strong><br/>
<pre>/Applications/ZAP.app/Contents/Java/zap.sh</pre>
<strong>Linux:</strong><br/>
<code>zap.sh</code> は、ZAPがインストールされたディレクトリの下にあります。
<br/><br/>
または、JARファイルを直接実行することもできます：<br/>
<pre>java -jar zap.jar</pre>
以下のすべてのコマンドラインオプションは、これらのいずれの起動方法でも使用できます。

<h2>オプション</h2>

ZAP (コア) は、以下のコマンドラインオプションをサポートしています：

<table>
<tr><td>&nbsp;&nbsp;&nbsp;&nbsp;</td><td>-version</td><td>ZAPのバージョンを表示して終了します</td></tr>
<tr><td>&nbsp;&nbsp;&nbsp;&nbsp;</td><td>-cmd</td><td>コマンドラインモードで実行します（指定されたコマンドを実行後、自動的に終了します）</td></tr>
<tr><td>&nbsp;&nbsp;&nbsp;&nbsp;</td><td>-daemon</td><td>デーモンモード (UIなし) でZAPを起動します。バックグラウンドで実行し、APIからのみ制御します</td></tr>
<tr><td>&nbsp;&nbsp;&nbsp;&nbsp;</td><td>-config &lt;kvpair&gt;</td><td>設定ファイル内の指定されたキーと値を上書きします。複数指定可能で、指定された順序で適用されます</td></tr>
<tr><td>&nbsp;&nbsp;&nbsp;&nbsp;</td><td>-configfile &lt;path&gt;</td><td>指定されたプロパティファイルでキーと値を上書きします</td></tr>
<tr><td>&nbsp;&nbsp;&nbsp;&nbsp;</td><td>-dir &lt;dir&gt;</td><td>ホームディレクトリ (設定、セッション、ログなどが保存される場所) を指定します。 アドオンが (誤って) コアファイルを使用/上書きすることを防ぐため、ホームディレクトリとインストールディレクトリが同じ場合、ZAPは起動しません (エラーを表示します)。</td></tr>
<tr><td>&nbsp;&nbsp;&nbsp;&nbsp;</td><td>-installdir &lt;dir&gt;</td><td>ZAPのインストールディレクトリを明示的に指定します</td></tr>
<tr><td>&nbsp;&nbsp;&nbsp;&nbsp;</td><td>-h</td><td>利用可能なすべてのコマンドラインオプションを表示します (アドオンが追加したオプションを含む)</td></tr>
<tr><td>&nbsp;&nbsp;&nbsp;&nbsp;</td><td>-help</td><td>-hと同じです</td></tr>
<tr><td>&nbsp;&nbsp;&nbsp;&nbsp;</td><td>-newsession &lt;path&gt;</td><td>指定された場所に新しいセッションを作成します</td></tr>
<tr><td>&nbsp;&nbsp;&nbsp;&nbsp;</td><td>-session &lt;path&gt;</td><td>ZAP起動後に指定されたセッションファイルを開きます</td></tr>
<tr><td>&nbsp;&nbsp;&nbsp;&nbsp;</td><td>-lowmem</td><td>可能な限りメモリではなくデータベースを使用します（実験的）</td></tr>
<tr><td>&nbsp;&nbsp;&nbsp;&nbsp;</td><td>-experimentaldb</td><td>実験的な汎用データベースコードを使用します（実験的）</td></tr>
<tr><td>&nbsp;&nbsp;&nbsp;&nbsp;</td><td>-nostdout</td><td>標準出力へのログ出力を無効にします</td></tr>
<tr><td>&nbsp;&nbsp;&nbsp;&nbsp;</td><td>-loglevel &lt;level&gt;</td><td>ログレベルを設定し、ホームディレクトリの log4j2.properties ファイルで指定された値を上書きします</td></tr>
<tr><td>&nbsp;&nbsp;&nbsp;&nbsp;</td><td>-silent</td><td>ZAPが自動的に外部へのリクエスト (更新確認など) を行わないようにします</td></tr>
<tr><td>&nbsp;&nbsp;&nbsp;&nbsp;</td><td>-addoninstall &lt;addOnId&gt;</td><td>指定されたIDのアドオンをZAP マーケットプレイスからインストールします。 マーケットプレイスで利用可能なアドオンのIDは、<a href="ui/dialogs/manageaddons.html">アドオンの管理ダイアログ</a>のマーケットプレイスタブで確認できます.</td></tr>
<tr><td>&nbsp;&nbsp;&nbsp;&nbsp;</td><td>-addoninstallall</td><td>マーケットプレイスから利用可能なすべてのアドオンをインストールします</td></tr>
<tr><td>&nbsp;&nbsp;&nbsp;&nbsp;</td><td>-addonuninstall &lt;addOnId&gt;</td><td>指定されたIDのアドオンをアンインストールします。 インストールされているアドオンのIDを知るには、<code>-addonlist</code>を使用するか、<a href="ui/dialogs/manageaddons.html">アドオンの管理ダイアログ</a>のインストール済みタブを確認してください。</td></tr>
<tr><td>&nbsp;&nbsp;&nbsp;&nbsp;</td><td>-addonupdate</td><td>ZAP マーケットプレイスから変更されたすべてのアドオンを更新します</td></tr>
<tr><td>&nbsp;&nbsp;&nbsp;&nbsp;</td><td>-addonlist</td><td>インストール済みのすべてのアドオンを一覧表示します</td></tr>
<tr><td>&nbsp;&nbsp;&nbsp;&nbsp;</td><td>-script &lt;script&gt;</td><td>指定されたスクリプト (ファイルパス) を、コマンドライン/デーモンモードでは実行し、GUIモードでは読み込みます</td></tr>
<tr><td>&nbsp;&nbsp;&nbsp;&nbsp;</td><td>-suppinfo</td><td>サポートやトラブルシューティングに関連する詳細情報をコンソール (標準出力) に出力します。例: ZAPバージョン、Javaバージョン、インストール済みアドオンとそのバージョン、ロケール情報、オペレーティングシステムなど。</td></tr>
<tr><td>&nbsp;&nbsp;&nbsp;&nbsp;</td><td>-sbomzip &lt;path&gt;</td><td>すべての<a href="start/features/sbom.html">SBOM</a>を含むzipファイルを作成します</td></tr>

</table>
<br>
 <code>-session</code> と <code>-newsession</code> は同時に使用できません (相互排他的)。両方を指定するとエラーが表示されます。
<br>
相対パスは、ZAPのホームディレクトリ (デフォルトまたは <code>-dir</code> オプションで指定) 内の「session」ディレクトリを基準として解決されます。
<br/>
設定キーは、設定ファイル内のXML階層に基づいてドット記法で指定する必要があります。例：<br/>
<pre>&lt;zap-script&gt; -config api.key=12345</pre>

 <code>-loglevel</code> オプションでは、次のログレベルを指定できます: <code>OFF</code>, <code>FATAL</code>, <code>ERROR</code>, <code>WARN</code>, <code>INFO</code>, <code>DEBUG</code>, <code>TRACE</code>, <code>ALL</code>（詳細度の低い順から高い順）

<p>
例:
	<ul>
		<li>指定されたパスに新しいセッションを作成して、ZAPを「デーモン」モードで起動する：
			<pre>&lt;zap-script&gt; -daemon -newsession session</pre>
		</li>
		<li>既存のセッションに対してスクリプトを実行し、完了後にZAPを終了する：
			<pre>&lt;zap-script&gt; -session /full/path/to/existing/session -script /full/path/to/script.js -cmd</pre>
		</li>
	</ul>

<h2>アドオン</h2>
アドオンは、追加のコマンドラインオプションを追加できます。これらは各アドオンのヘルプページで説明されています。
<p>
メインのローカルプロキシを設定するコマンドラインオプションについては、 <a href="https://www.zaproxy.org/docs/desktop/addons/network/cmdline/">ネットワークコマンドライン</a> ヘルプページを参照してください。

<h2>関連情報</h2>
<table>
<tr><td>&nbsp;&nbsp;&nbsp;&nbsp;</td><td>
<a href="intro.html">導入</a></td><td>ZAPのご紹介</td></tr>
<tr><td>&nbsp;&nbsp;&nbsp;&nbsp;</td><td>
<a href="start/features/api.html">API</a></td><td>ZAPをプログラムによって制御するには</td></tr>
</table>

</body>
</html>
